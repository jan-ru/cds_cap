<core:FragmentDefinition
	xmlns:core="sap.ui.core"
	xmlns:m="sap.m"
	xmlns:t="sap.ui.table"
>
	<core:Fragment
		fragmentName="shared.view.fragments.PeriodSelector"
		type="XML"
	/>
	<t:TreeTable
		id="financialTreeTable"
		selectionMode="None"
		enableColumnReordering="false"
		visibleRowCountMode="Auto"
		enableColumnFreeze="true"
	>
		<t:extension>
			<m:OverflowToolbar>
				<m:ToolbarSpacer />
				<m:Button
					icon="sap-icon://excel-attachment"
					text="Export"
					press="onExportFinancial"
				/>
			</m:OverflowToolbar>
		</t:extension>
		<t:footer>
			<m:VBox>
				<core:Fragment
					fragmentName="shared.view.fragments.TechnicalInfo"
					type="XML"
				/>
			</m:VBox>
		</t:footer>
		<t:columns>
			<t:Column width="22rem">
				<m:Label text="Account / Group" />
				<t:template>
					<m:Label
						text="{name}"
						design="{= ${isBold} ? 'Bold' : 'Standard' }"
					/>
				</t:template>
			</t:Column>
			<t:Column
				width="8rem"
				hAlign="End"
			>
				<m:Label text="{viewSettings>/periodA/year}" />
				<t:template>
					<m:Text text="{
						path: 'amountA',
						formatter: '.formatter.formatCurrency'
					}" />
				</t:template>
			</t:Column>
			<t:Column
				width="8rem"
				hAlign="End"
			>
				<m:Label text="{viewSettings>/periodB/year}" />
				<t:template>
					<m:Text text="{
						path: 'amountB',
						formatter: '.formatter.formatCurrency'
					}" />
				</t:template>
			</t:Column>
			<t:Column
				width="8rem"
				hAlign="End"
			>
				<m:Label text="Diff amount" />
				<t:template>
					<m:HBox justifyContent="End" width="100%">
						<m:ObjectStatus
							text="{
								path: 'diffAbs',
								formatter: '.formatter.formatCurrency'
							}"
							state="{= ${diffAbs} >= 0 ? 'Success' : 'Error' }"
						/>
					</m:HBox>
				</t:template>
			</t:Column>
			<t:Column
				width="8rem"
				hAlign="End"
			>
				<m:Label text="Diff %" />
				<t:template>
					<m:HBox justifyContent="End" width="100%">
						<m:ObjectStatus
							text="{
								path: 'diffPct',
								formatter: '.formatter.formatPercentage'
							}"
							state="{= ${diffPct} >= 0 ? 'Success' : 'Error' }"
						/>
					</m:HBox>
				</t:template>
			</t:Column>
		</t:columns>
	</t:TreeTable>
</core:FragmentDefinition>
