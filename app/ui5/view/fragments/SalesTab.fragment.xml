<core:FragmentDefinition
	xmlns:core="sap.ui.core"
	xmlns:m="sap.m"
	xmlns:t="sap.ui.table"
>
	<core:Fragment
		fragmentName="demo.ui5.view.fragments.PeriodSelector"
		type="XML"
	/>
	<t:TreeTable
		id="salesTreeTable"
		rows="{sales>/root}"
		selectionMode="None"
		enableColumnReordering="false"
		visibleRowCountMode="Auto"
		enableColumnFreeze="true"
	>
		<t:extension>
			<m:OverflowToolbar>
				<m:Title text="Revenue by Cost Center" />
				<m:ToolbarSpacer />
				<m:Button
					icon="sap-icon://excel-attachment"
					text="Export"
					press="onExportSales"
				/>
			</m:OverflowToolbar>
		</t:extension>
		<t:footer>
			<m:VBox>
				<core:Fragment
					fragmentName="demo.ui5.view.fragments.TechnicalInfo"
					type="XML"
				/>
			</m:VBox>
		</t:footer>
		<t:columns>
			<t:Column width="20rem">
				<m:Label text="Account / Group" />
				<t:template>
					<m:Label
						text="{sales>name}"
						design="{= ${sales>isBold} ? 'Bold' : 'Standard' }"
					/>
				</t:template>
			</t:Column>
			<!-- Period A Group -->
			<t:Column
				width="9rem"
				hAlign="End"
			>
				<t:multiLabels>
					<m:Label
						text="{viewSettings>/periodA/year}"
						textAlign="Center"
						width="100%"
					/>
					<m:Label text="WAT" />
				</t:multiLabels>
				<t:template>
					<m:Text text="{
						path: 'sales>watA',
						formatter: '.formatter.formatCurrency'
					}" />
				</t:template>
			</t:Column>
			<t:Column
				width="9rem"
				hAlign="End"
			>
				<t:multiLabels>
					<m:Label
						text="{viewSettings>/periodA/year}"
						textAlign="Center"
						width="100%"
					/>
					<m:Label text="NOI" />
				</t:multiLabels>
				<t:template>
					<m:Text text="{
						path: 'sales>noiA',
						formatter: '.formatter.formatCurrency'
					}" />
				</t:template>
			</t:Column>
			<t:Column
				width="9rem"
				hAlign="End"
			>
				<t:multiLabels>
					<m:Label
						text="{viewSettings>/periodA/year}"
						textAlign="Center"
						width="100%"
					/>
					<m:Label
						text="Total"
						design="Bold"
					/>
				</t:multiLabels>
				<t:template>
					<m:Text text="{
						path: 'sales>wnA',
						formatter: '.formatter.formatCurrency'
					}" />
				</t:template>
			</t:Column>
			<!-- Spacer -->
			<t:Column
				width="2rem"
				minWidth="2rem"
				resizable="false"
			>
				<m:Label text="" />
				<t:template>
					<m:Text text="" />
				</t:template>
			</t:Column>
			<!-- Period B Group -->
			<t:Column
				width="9rem"
				hAlign="End"
			>
				<t:multiLabels>
					<m:Label
						text="{viewSettings>/periodB/year}"
						textAlign="Center"
						width="100%"
					/>
					<m:Label text="WAT" />
				</t:multiLabels>
				<t:template>
					<m:Text text="{
						path: 'sales>watB',
						formatter: '.formatter.formatCurrency'
					}" />
				</t:template>
			</t:Column>
			<t:Column
				width="9rem"
				hAlign="End"
			>
				<t:multiLabels>
					<m:Label
						text="{viewSettings>/periodB/year}"
						textAlign="Center"
						width="100%"
					/>
					<m:Label text="NOI" />
				</t:multiLabels>
				<t:template>
					<m:Text text="{
						path: 'sales>noiB',
						formatter: '.formatter.formatCurrency'
					}" />
				</t:template>
			</t:Column>
			<t:Column
				width="9rem"
				hAlign="End"
			>
				<t:multiLabels>
					<m:Label
						text="{viewSettings>/periodB/year}"
						textAlign="Center"
						width="100%"
					/>
					<m:Label
						text="Total"
						design="Bold"
					/>
				</t:multiLabels>
				<t:template>
					<m:Text text="{
						path: 'sales>wnB',
						formatter: '.formatter.formatCurrency'
					}" />
				</t:template>
			</t:Column>
			<t:Column
				width="8rem"
				hAlign="End"
			>
				<m:Label text="Diff amount" />
				<t:template>
					<m:ObjectStatus
						text="{
							path: 'sales>diffAbs',
							formatter: '.formatter.formatCurrency'
						}"
						state="{= ${sales>diffAbs} >= 0 ? 'Success' : 'Error' }"
					/>
				</t:template>
			</t:Column>
			<t:Column
				width="6rem"
				hAlign="End"
			>
				<m:Label text="Diff %" />
				<t:template>
					<m:ObjectStatus
						text="{
							path: 'sales>diffPrc',
							formatter: '.formatter.formatPercentage'
						}"
						state="{= ${sales>diffPrc} >= 0 ? 'Success' : 'Error' }"
					/>
				</t:template>
			</t:Column>
		</t:columns>
	</t:TreeTable>
</core:FragmentDefinition>
